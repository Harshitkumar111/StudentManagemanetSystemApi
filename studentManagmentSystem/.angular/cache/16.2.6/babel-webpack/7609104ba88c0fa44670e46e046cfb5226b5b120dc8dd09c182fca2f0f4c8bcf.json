{"ast":null,"code":"export {};","map":{"version":3,"names":[],"sources":["D:\\angular\\Filnal Project\\studentManagmentSystem\\src\\app\\add-update-student\\add-update-student.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\nimport { ActivatedRoute } from '@angular/router';\nimport { StudentService } from '../student.service';\nimport { studentmodel } from '../student'; \nimport { Router } from '@angular/router';\nimport { }\n\n@Component({\n  selector: 'app-add-update-student',\n  templateUrl: './add-update-student.component.html',\n  styleUrls: ['./add-update-student.component.css']\n})\nexport class AddUpdateStudentComponent implements OnInit {\n  studentform !: FormGroup;\n  value2: any;\n  value = undefined;\n  title!: string;\n  edit!: string;\n  buttonsave!: string;\n\n  constructor(private service: StudentService , public activatedRoute:ActivatedRoute,private formbulider: FormBuilder, private router:Router){}\n  \n  ngOnInit() {\n    this.value2 = this.activatedRoute.params;\n    this.value = this.value2[\"_value\"].id;\n    this.studentform = this.formbulider.group({\n      name:new FormControl('',[Validators.required,Validators.maxLength(10), Validators.pattern('^[a-zA-Z \\-\\']+')]),\n      emailid:new FormControl('',[Validators.required,Validators.email,Validators.maxLength(20)]),\n      phoneNo:new FormControl('',[Validators.required,Validators.minLength(10),Validators.maxLength(10),Validators.pattern('[- +()0-9]+')]),\n      city:new FormControl('',[Validators.required,Validators.maxLength(10),Validators.pattern('^[a-zA-Z \\-\\']+')])\n    })\n \n    if(this.value != undefined){\n      this.setdataedit();  \n    }\n  }\n  save(data:any){\n    this.service.addstudent(data).subscribe(res => {\n      alert('Student Add successfully')\n      // this.router.navigate([''])\n      this..reset(this.studentform.value);\n\n    }) ;\n  }\n\n  setdataedit(){\n    this.service.getByID(this.value).subscribe((val) => {\n    this.studentform.controls['name'].setValue(val[0].name);\n    this.studentform.controls['emailid'].setValue(val[0].emailid);\n    this.studentform.controls['phoneNo'].setValue(val[0].phoneNo);\n    this.studentform.controls['city'].setValue(val[0].city);\n    this.edit='0'\n    })\n  }\n  updatedata(data:studentmodel){\n    data.id = this.value;\n    this.service.updatestudent(data).subscribe(res => {    \n      alert('Student Update successfully')\n      this.router.navigate([''])\n     });\n  }\n  get err(){\n    return this.studentform.controls;\n  }\n}\n"],"mappings":""},"metadata":{},"sourceType":"module","externalDependencies":[]}